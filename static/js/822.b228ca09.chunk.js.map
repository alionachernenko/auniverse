{"version":3,"file":"static/js/822.b228ca09.chunk.js","mappings":"2LA6DMA,EAAOC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,iVAgBvB,UAtEgB,SAAHC,GAAkC,IAA7BC,EAAQD,EAARC,SAAUC,EAAYF,EAAZE,aACxBC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAoCL,EAAAA,EAAAA,UAAS,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAxCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAAkCT,EAAAA,EAAAA,WAAS,GAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAzCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAwBb,EAAAA,EAAAA,UAAS,GAAEc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA5BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACpBG,GAA8BjB,EAAAA,EAAAA,WAAS,GAAMkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAElBG,EAA2BvB,EAA3BuB,SAAUC,EAAiBxB,EAAjBwB,MAAOC,EAAUzB,EAAVyB,OAEzBC,EAAAA,EAAAA,YAAU,WACNZ,GAAa,IAEba,EAAAA,EAAAA,IAAuBH,EAAOP,EAAMM,EAAUE,GAAOG,MAAK,SAAAC,GAAa,IAAXC,EAAID,EAAJC,KAC5CC,EAAmBD,EAAnBC,QAASC,EAAUF,EAAVE,MAEjB1B,EAASyB,EAAQE,QAAO,SAAAC,GAAI,MAAkB,iBAAdA,EAAKC,IAAuB,KAC5DzB,EAAcsB,EAAQ,IAEtBlB,GAAa,EACjB,IAAGsB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZf,GAAW,GACXR,GAAa,EACjB,GACR,GAAG,CAACG,EAAMO,EAAOD,EAAUE,IAS3B,OACIe,EAAAA,EAAAA,KAAC9C,EAAI,CAAA+C,SACApB,GAAUmB,EAAAA,EAAAA,KAACE,EAAAA,GAAc,KAC1BC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAH,SAAA,EACID,EAAAA,EAAAA,KAACK,EAAAA,GAAU,CAACC,UAAW,UAAW/C,SAAUA,EAAUmB,QAASA,IAC1DL,GAAY2B,EAAAA,EAAAA,KAACO,EAAAA,GAAM,CAACD,UAAW,iBAAkBE,MAAO,UACnC,IAAjB3C,EAAM4C,QACHN,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAH,SAAA,EACID,EAAAA,EAAAA,KAACU,EAAAA,GAAQ,CAAC7C,MAAOA,KACjBmC,EAAAA,EAAAA,KAACW,EAAAA,GAAU,CAAC1C,WAAYA,GAAc,IAAMA,EAAa,IAAK2C,WAhBjE,SAACnC,GACtBC,EAAQD,EAAO,GAEfoC,OAAOC,OAAO,CACVC,IAAK,GAEb,EAUwHtC,KAAMA,QAEtGuB,EAAAA,EAAAA,KAAA,MAAIgB,MAAO,CAAER,MAAO,SAAUP,SAAC,mBAO3D,C","sources":["pages/Catalog/Catalog.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { fetchGameBySearchQuery } from \"utils\"\nimport { Pagination, SearchForm, Loader, GameList, ErrorComponent } from 'components'\nimport styled from \"styled-components\"\n\n\n\nconst Catalog = ({onSubmit, searchParams}) => {\n    const [games, setGames] = useState([])\n    const [totalPages, setTotalPages] = useState(0)\n    const [isLoading, setIsLoading] = useState(true)\n    const [page, setPage] = useState(1)\n    const [isError, setIsError] = useState(false)\n\n    const { ordering, value, genre } = searchParams\n\n    useEffect(() => {\n        setIsLoading(true)\n\n        fetchGameBySearchQuery(value, page, ordering, genre).then(({data}) => {\n                const { results, count } = data\n\n                setGames(results.filter(game => game.slug !== 'atomic-heart'))\n                setTotalPages(count / 20)\n\n                setIsLoading(false)\n            }).catch(error => {\n                console.log(error)\n                setIsError(true)\n                setIsLoading(false)\n            })\n    }, [page, value, ordering, genre])\n\n    const handlePageChange = (page) => {\n        setPage(page + 1)\n\n        window.scroll({\n            top: 0,\n        });\n    }\n    return (\n        <Page>\n            {isError ? <ErrorComponent/> :\n            <>\n                <SearchForm className={'catalog'} onSubmit={onSubmit} setPage={setPage} />\n                    {isLoading ? <Loader className={'loader-catalog'} color={'white'} /> :\n                        (games.length !== 0 ?\n                            <>\n                                <GameList games={games} />\n                                <Pagination totalPages={totalPages <= 500 ? totalPages : 500} changePage={handlePageChange} page={page} />\n                            </> :\n                            <h1 style={{ color: 'white' }}>No matches</h1>\n                        )\n                    }\n                </>\n            }\n        </Page>\n    )\n}\n\n\nconst Page = styled.div`\n    padding: 10px 0 40px 0;\n    box-sizing: border-box;\n    min-height: calc(100vh - 61px);\n    position: relative;\n    background-color: black;\n    display: flex;\n    flex-direction: column;\n    align-items: space-between;\n    gap: 20px;\n\n    @media screen and (min-width: 1200px){\n        padding: 40px 0;\n    }\n`\n\nexport default Catalog"],"names":["Page","styled","_templateObject","_taggedTemplateLiteral","_ref","onSubmit","searchParams","_useState","useState","_useState2","_slicedToArray","games","setGames","_useState3","_useState4","totalPages","setTotalPages","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","page","setPage","_useState9","_useState10","isError","setIsError","ordering","value","genre","useEffect","fetchGameBySearchQuery","then","_ref2","data","results","count","filter","game","slug","catch","error","console","log","_jsx","children","ErrorComponent","_jsxs","_Fragment","SearchForm","className","Loader","color","length","GameList","Pagination","changePage","window","scroll","top","style"],"sourceRoot":""}