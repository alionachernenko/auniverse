{"version":3,"file":"static/js/260.43c4a44c.chunk.js","mappings":"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","sources":["components/ProfileCard/ProfileCard.jsx","pages/UserProfile/UserProfile.jsx"],"sourcesContent":["import { useContext, useState } from \"react\"\nimport { useLocation, useParams } from \"react-router-dom\"\nimport { authContext } from '../../context/context'\nimport { addAvatar, addUserToFriensInvitationsList, changeUsername, removeFriend} from \"utils/firebase\"\n\nimport { Oval } from \"react-loader-spinner\"\n\nimport { RxUpload } from \"react-icons/rx\"\nimport { BsPenFill } from 'react-icons/bs'\nimport {FiUserPlus, FiUserX} from 'react-icons/fi'\nimport { MdDone } from 'react-icons/md'\n\nimport styled from \"styled-components\"\n\nexport const ProfileCard = ({avatar, username, isAvatarLoading, setPhotoPath, setIsAvatarLoading, setUsername, isPendingFriend, isFriend, setIsPendingFriend, setIsFriend}) => {\n    const { userId } = useContext(authContext)\n    const { id } = useParams()\n    const location = useLocation()\n\n    const [showChangeUsernameFrom, setShowChangeUsernameForm] = useState(false)\n\n    const deleteFriend = () => {\n        removeFriend(id, userId)\n        setIsFriend(false)\n    }\n\n    const sendInvitation = () => {\n        addUserToFriensInvitationsList(id, userId)\n        setIsPendingFriend(true)\n    }\n    \n    const onUsernameFormSubmit = (e) => {\n        e.preventDefault()\n\n        const username = e.target.elements.username.value\n\n        changeUsername(userId, username)\n        setUsername(username)\n        setShowChangeUsernameForm(false)\n    }\n\n    const uploadAvatar = (e) => {\n\n        const file = e.target.files[0]\n        e.preventDefault()\n        if(file){\n            if(file.size > 2097152){\n                setIsAvatarLoading(false)\n                return\n            }\n\n            setIsAvatarLoading(true)\n            addAvatar(file, userId, setPhotoPath, setIsAvatarLoading)\n        }\n    }\n    return(\n        <Info>\n            <AvatarWrapper>\n                {location.pathname.includes('profile') ?\n                    <>\n                        <UploadInput id='upload_file' accept=\".png, .jpg, .jpeg, .gif\" type='file' name='photo' onChange={(e) => uploadAvatar(e)} />\n                        <UploadButton htmlFor=\"upload_file\">\n                            <RxUpload size='100%' fill='orange' color=\"orange\" stroke=\"orange\"/>\n                        </UploadButton>\n                    </>\n                    : !isPendingFriend && !isFriend ?\n                        <ChangeFriendStatusButton type='button' onClick={sendInvitation}>\n                            <FiUserPlus />\n                        </ChangeFriendStatusButton>\n                        : isPendingFriend ?\n                            <FriendStatus>You sent an invitation</FriendStatus>\n                        :   <ChangeFriendStatusButton onClick={deleteFriend}>\n                                <FiUserX />\n                            </ChangeFriendStatusButton>}\n                \n                {isAvatarLoading ?\n                    <Spinner>\n                        <Oval color='#FF6600' secondaryColor='orange' width={'100%'} height={'100%'} />\n                    </Spinner> : \n                    <Avatar src={`${avatar}`} alt={`${username}'s avatar`} />}\n            </AvatarWrapper>\n                    <div style={{display: 'flex', gap: 5, alignItems: 'center', justifyContent: 'center', flexWrap: 'wrap'}}>\n                        {!showChangeUsernameFrom && <Username>\n                            {username}\n                        </Username>}\n                        {location.pathname.includes('profile') && !showChangeUsernameFrom && <ChangeUsernameButton onClick={() => setShowChangeUsernameForm(true)}>\n                            <BsPenFill color=\"white\" />\n                        </ChangeUsernameButton>}\n                    </div>\n                    {showChangeUsernameFrom && <ChangeUsernameForm onSubmit={(e) => onUsernameFormSubmit(e)}>\n                        <input type='text' name=\"username\" minLength='3' required autoComplete='off'/>\n                        <button><MdDone size={15}/></button>\n                    </ChangeUsernameForm>}\n        </Info>\n    )\n}\n\nconst Info = styled.div`\n    margin-bottom: 20px;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    gap: 10px;\n    \n`\n\nconst Username = styled.h1`\n    text-align: center\n`\nconst Spinner = styled.div`\n    width: 90%;\n    height: 90%;\n    text-align: center;\n    \n`\nconst AvatarWrapper = styled.div`\n    height: 200px;\n    width: 200px;\n    border-radius: 100px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n\n    overflow: hidden;\n    \n    background-color: transparent;\n\n`\n\nconst FriendStatus = styled.p`\n    position: absolute;\n    z-index: 1111;\n    opacity: 0;\n    transition: 250ms opacity ease;\n\n    ${AvatarWrapper}:hover &{\n        opacity: 1\n    }\n`\n\nconst Avatar = styled.img`\nwidth: 200;\nheight: 100%;\nobject-fit: 'cover';\n\ntransition: 250ms filter ease;\n    ${AvatarWrapper}:hover &{\n        filter: blur(3px)\n    }\n`\n\nconst UploadButton = styled.label`\n    width: 30px;\n    height: 30px;\n    padding: 5px;\n    border: none;\n    border-radius: 100px;\n\n    position: absolute;\n    z-index: 1111;\n    opacity: 0;\n    \n    background-color: white;\n    cursor: pointer;\n    transition: 250ms all ease;\n\n    ${AvatarWrapper}:hover &{\n        opacity: 1\n    }\n`\n\nconst UploadInput = styled.input`\n    width: 0.1px;\n    height: 0.1px;\n    position: absolute;\n    z-index: -1;\n    opacity: 0;\n    overflow: hidden;\n`\n\nconst ChangeUsernameButton = styled.button`\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: transparent;\n`\n\nconst ChangeUsernameForm = styled.form`\n    height: 30px;\n    display: flex;\n    & input{\n        height: 100%;\n        padding: 0 15px;\n        width: 200px;\n        border-radius: 15px;\n        background-color: white;\n        border: 1px solid orange;\n        margin-right: 5px\n    }\n\n    & button{\n        height: 100%;\n        width: 30px;\n        border-radius: 15px;\n        border: 1px solid green;\n        background-color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center\n    }\n`\n\nconst ChangeFriendStatusButton = styled.button`\n    width: 30px;\n    height: 30px;\n    padding: 5px;\n    border: none;\n    \n    position: absolute;\n    z-index: 1111;\n    opacity: 0;\n    \n    background-color: white;\n   \n    border-radius: 100px;\n    cursor: pointer;\n    \n    transition: 250ms all ease;\n\n    ${AvatarWrapper}:hover &{\n        opacity: 1\n    }\n`","import { useContext, useEffect, useState } from \"react\"\nimport { Outlet, useNavigate, useParams } from \"react-router-dom\"\nimport { getFriendsInvitationsList, getFriendsList, getUserInfo } from \"utils/firebase\"\nimport { NavLink } from \"react-router-dom\"\nimport {authContext} from '../../context/context'\nimport styled from \"styled-components\"\nimport { ProfileCard } from \"components/ProfileCard/ProfileCard\"\nimport avatarPlaceholder from '../../assets/images/avatar-placeholder.png'\n\nconst User = () => {\n    const { userId } = useContext(authContext)\n    const { id } = useParams()\n    \n    const [name, setName] = useState('')\n    const [photo, setPhoto] = useState('')\n    const [favouriteGames, setFavs] = useState([])\n    const [isPendingFriend, setIsPendingFriend] = useState(false)\n    const [isFriend, setIsFriend] = useState(false)\n\n    const navigate = useNavigate()\n\n    if(userId === id) navigate('/profile')\n\n    useEffect(() => {\n        getUserInfo(id).then((res) => {\n            const {username, favs, photoUrl} = res.val() \n            setName(username)\n\n            if(favs) setFavs(Object.values(favs))\n            if(photoUrl){ setPhoto(photoUrl)}\n            else(setPhoto(avatarPlaceholder))\n        })\n\n        getFriendsInvitationsList(id).then(res => {\n            if (res.val()) {\n                setIsPendingFriend(Object.values(res.val()).some(user => user === userId))\n            }\n        })\n\n        getFriendsList(userId).then(res => {\n            if (res.val()) {\n                setIsFriend(Object.values(res.val()).some(user => user === id))\n            }\n        })\n\n    }, [id, setIsPendingFriend, userId])\n\n    return(\n        <Page>\n            <ProfileCard\n                avatar={photo}\n                username={name}\n                isPendingFriend={isPendingFriend}\n                isFriend={isFriend}\n                setIsPendingFriend={setIsPendingFriend}\n                setIsFriend={setIsFriend}\n            />\n                <OutletsSection>\n                    <Tabs>\n                        <Tab to='bookmarks'>Bookmarks</Tab>\n                    </Tabs>\n                    <Outlet context={[favouriteGames]} />\n                </OutletsSection>\n        </Page>\n    )\n}\n\nconst Page = styled.div`\n    min-height: calc(100vh - 61px);\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: center;\n\n    position: relative;\n\n    color: white;\n    background-color: #00021A;\n`\n\nconst OutletsSection = styled.div`\n    width: 50%;\n    margin-left: auto;\n`\n\nconst Tabs = styled.div`\n    margin-bottom: 20px;\n    margin-left: auto;\n\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n\n    & :not(:last-child) {\n        margin-right: 100px;\n    }\n`\n\n\nconst Tab = styled(NavLink)`\n    color: #090E2F;\n    font-weight: 500;\n    padding: 10px 0;\n    background-color: transparent;\n    font-family: 'Nunito', sans-serif;\n    font-size: 20px;\n    cursor: pointer;\n    color: white;\n    border: none;\n    position: relative;\n    display: block;\n\n    &.active::after{\n        content: '';\n        display: block;\n        height: 3px;\n        width: 100%;\n        border-radius: 4px;\n\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        background-color: #FF6600;\n    }\n`\n\nexport default User "],"names":["ProfileCard","_ref","avatar","username","isAvatarLoading","setPhotoPath","setIsAvatarLoading","setUsername","isPendingFriend","isFriend","setIsPendingFriend","setIsFriend","userId","useContext","authContext","id","useParams","location","useLocation","_useState","useState","_useState2","_slicedToArray","showChangeUsernameFrom","setShowChangeUsernameForm","_jsxs","Info","children","AvatarWrapper","pathname","includes","_Fragment","_jsx","UploadInput","accept","type","name","onChange","e","file","target","files","preventDefault","size","addAvatar","uploadAvatar","UploadButton","htmlFor","RxUpload","fill","color","stroke","FriendStatus","ChangeFriendStatusButton","onClick","removeFriend","FiUserX","addUserToFriensInvitationsList","FiUserPlus","Spinner","Oval","secondaryColor","width","height","Avatar","src","concat","alt","style","display","gap","alignItems","justifyContent","flexWrap","Username","ChangeUsernameButton","BsPenFill","ChangeUsernameForm","onSubmit","elements","value","changeUsername","onUsernameFormSubmit","minLength","required","autoComplete","MdDone","styled","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","Page","OutletsSection","Tabs","Tab","NavLink","setName","_useState3","_useState4","photo","setPhoto","_useState5","_useState6","favouriteGames","setFavs","_useState7","_useState8","_useState9","_useState10","navigate","useNavigate","useEffect","getUserInfo","then","res","_res$val","val","favs","photoUrl","Object","values","avatarPlaceholder","getFriendsInvitationsList","some","user","getFriendsList","to","Outlet","context"],"sourceRoot":""}