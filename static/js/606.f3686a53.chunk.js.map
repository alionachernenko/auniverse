{"version":3,"file":"static/js/606.f3686a53.chunk.js","mappings":"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","sources":["components/ErrorComponent/ErrorComponent.jsx","components/Loader/Loader.jsx","components/ProfileCard/ProfileCard.jsx","components/AcceptInvitationForm/AcceptInvitationForm.jsx","pages/UserProfile/UserProfile.jsx"],"sourcesContent":["import mario from '../../assets/images/mario.png'\nimport styled from 'styled-components'\n\nexport const ErrorComponent = () => {\n    return (\n        <Block>\n            <Message>Something went wrong...</Message>\n            <Image src={mario} alt='Mario thinking what happend'/>\n        </Block>\n    )\n}\n\nconst Block = styled.div`\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 20px;\n\n    @media screen and (min-width: 1200px) {\n        flex-direction: row;\n    }\n`\n\nconst Message = styled.p`\n    font-family: 'Nunito', sans-serif;\n    font-size: 40px;\n    max-width: 700px;\n    text-align: center;\n    color: white;\n`\n\nconst Image = styled.img`\n    width: 80vw;\n\n    @media screen and (min-width: 320px){\n        width: 200px\n    }\n\n    @media screen and (min-width: 768px){\n        width: 300px\n    }\n`","import { FidgetSpinner } from \"react-loader-spinner\";\nimport styled,  { css } from \"styled-components\";\n\nexport const Loader = ({className, color}) => {\n    return (\n        <Wrapper render={className}>\n            <FidgetSpinner backgroundColor={color} ballColors={['orange', 'darkblue', 'red']}/>\n        </Wrapper>\n    )\n}\n\nconst Wrapper = styled.div`\n    ${(props) => {\n        switch(props.render){\n            case 'loader-homepage': \n            return css`\n                margin-left: 60px;\n            `\n            default:\n                return css`\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translateX(-50%)\n            `\n        }\n    }}\n`\n\n","import { useContext, useState } from \"react\"\nimport { useLocation, useParams } from \"react-router-dom\"\nimport { authContext } from '../../context/context'\nimport { addAvatar, addUserToFriensInvitationsList, changeUsername, removeFriend} from \"utils/firebase\"\n\nimport { Oval } from \"react-loader-spinner\"\n\nimport { RxUpload } from \"react-icons/rx\"\nimport { BsPencilSquare } from 'react-icons/bs'\nimport {FiUserPlus, FiUserX} from 'react-icons/fi'\nimport { MdDone, MdClose } from 'react-icons/md'\n\nimport styled from \"styled-components\"\n\nexport const ProfileCard = ({avatar, username, isAvatarLoading, setPhotoPath, setIsAvatarLoading, setUsername, isFriendInvited, isFriend, setIsFriendInvited, setIsFriend, isPending}) => {\n    const { userId } = useContext(authContext)\n    const { id } = useParams()\n    const location = useLocation()\n    \n\n    const [showChangeUsernameForm, setShowChangeUsernameForm] = useState(false)\n\n\n\n    const deleteFriend = () => {\n        removeFriend(id, userId)\n        setIsFriend(false)\n    }\n\n    const sendInvitation = () => {\n        addUserToFriensInvitationsList(id, userId)\n        setIsFriendInvited(true)\n    }\n    \n    const onUsernameFormSubmit = (e) => {\n        e.preventDefault()\n\n        const username = e.target.elements.username.value\n\n        changeUsername(userId, username)\n        setUsername(username)\n        setShowChangeUsernameForm(false)\n    }\n\n    const uploadAvatar = (e) => {\n\n        const file = e.target.files[0]\n        e.preventDefault()\n        if (file) {\n            setIsAvatarLoading(true)\n            addAvatar(file, userId, setPhotoPath, setIsAvatarLoading)\n        }\n    }\n    return(\n        <Info>\n            <AvatarWrapper>\n                {location.pathname.includes('profile') ?\n                    <>\n                        <UploadInput id='upload_file' accept=\".png, .jpg, .jpeg, .gif\" type='file' name='photo' onChange={(e) => uploadAvatar(e)} />\n                        <UploadButton htmlFor=\"upload_file\">\n                            <RxUpload size='100%' fill='orange' color=\"orange\" stroke=\"orange\"/>\n                        </UploadButton>\n                    </>\n                     : !isPending && !isFriendInvited && !isFriend ?\n                        <ChangeFriendStatusButton type='button' onClick={sendInvitation}>\n                            <FiUserPlus size='100%' fill='orange' color=\"orange\" stroke=\"orange\"/>\n                        </ChangeFriendStatusButton>\n                        : !isPending && isFriendInvited ?\n                            <FriendStatus>You sent an invitation</FriendStatus>\n                        :  !isPending && <ChangeFriendStatusButton onClick={deleteFriend}>\n                                <FiUserX size='100%' fill='orange' color=\"orange\" stroke=\"orange\"/>\n                            </ChangeFriendStatusButton>}\n                \n                {isAvatarLoading ?\n                    <Spinner>\n                        <Oval color='#FF6600' secondaryColor='orange' width={'100%'} height={'100%'} />\n                    </Spinner> : \n                    <Avatar src={`${avatar}`} alt={`${username}'s avatar`} />}\n            </AvatarWrapper>\n                    <UsernameWrapper>\n                        {!showChangeUsernameForm && <Username>\n                            {username}\n                        </Username>}\n                {location.pathname.includes('profile') && !showChangeUsernameForm && <ChangeUsernameButton onClick={() => {\n                    console.log('click')\n                    setShowChangeUsernameForm(true)\n                }}>\n                            <BsPencilSquare color=\"white\" size={20}/>\n                        </ChangeUsernameButton>}\n            </UsernameWrapper>\n            \n                    {showChangeUsernameForm && <ChangeUsernameFormWrapper><ChangeUsernameForm onSubmit={(e) => onUsernameFormSubmit(e)}>\n                        <input type='text' name=\"username\" minLength='3' required autoComplete='off'/>\n                        <button type=\"submit\"><MdDone size={15}/></button>\n                    </ChangeUsernameForm>\n                <CloseChangeUsernameFormButton type=\"button\" onClick={() => setShowChangeUsernameForm(false)}><MdClose size={15} /></CloseChangeUsernameFormButton>\n            </ChangeUsernameFormWrapper>\n            }\n        </Info>\n    )\n}\n\nconst ChangeUsernameFormWrapper = styled.div`\n    display: flex;\n    gap: 5px\n`\n\nconst CloseChangeUsernameFormButton = styled.button`\n    height: 30px;\n    width: 30px;\n    border-radius: 15px;\n    border: 1px solid red;\n        \nbackground-color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center\n`\n\nconst Info = styled.div`\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    gap: 10px;\n\n    @media screen and (min-width: 1200px) {\n        margin-left: auto;\n        margin-right: auto\n    }\n    \n`\n\nconst Username = styled.h1`\n    text-align: center\n`\nconst Spinner = styled.div`\n    width: 90%;\n    height: 90%;\n    text-align: center;\n    \n`\nconst AvatarWrapper = styled.div`\n    height: 200px;\n    width: 200px;\n    border-radius: 100px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n\n    overflow: hidden;\n    \n    background-color: transparent;\n\n    &:hover button{\n        opacity: 1\n    }\n\n`\nconst UsernameWrapper = styled.div`\n    display: flex; \n    gap: 5px;\n    align-items: baseline; \n    justify-content: center; \n    flex-wrap: wrap;\n`\nconst FriendStatus = styled.p`\n    position: absolute;\n    z-index: 1111;\n    opacity: 0;\n    transition: 250ms opacity ease;\n\n    ${AvatarWrapper}:hover &{\n        opacity: 1\n    }\n`\n\nconst Avatar = styled.img`\nwidth: 200px;\nheight: 100%;\nobject-fit: cover;\n\n\n`\n\nconst UploadButton = styled.label`\n    width: 30px;\n    height: 30px;\n    padding: 5px;\n    border: none;\n    border-radius: 100px;\n\n    position: absolute;\n    z-index: 1111;\n    opacity: 0;\n    \n    background-color: white;\n    cursor: pointer;\n    transition: 250ms all ease;\n\n    ${AvatarWrapper}:hover &{\n        opacity: 1\n    }\n`\n\nconst UploadInput = styled.input`\n    width: 0.1px;\n    height: 0.1px;\n    position: absolute;\n    z-index: -1;\n    opacity: 0;\n    overflow: hidden;\n`\n\nconst ChangeUsernameButton = styled.button`\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: transparent;\n    height: 100%;\n`\n\nconst ChangeUsernameForm = styled.form`\n    height: 30px;\n    display: flex;\n    & input{\n        height: 100%;\n        padding: 0 15px;\n        width: 200px;\n        border-radius: 15px;\n        background-color: white;\n        border: 1px solid orange;\n        margin-right: 5px\n    }\n\n    & button{\n        height: 100%;\n        width: 30px;\n        border-radius: 15px;\n        border: 1px solid green;\n        background-color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center\n    }\n`\n\nconst ChangeFriendStatusButton = styled.button`\n    width: 40px;\n    height: 40px;\n    padding: 5px;\n    border: none;\n\n    position: absolute;\n    z-index: 1111;\n    opacity: 0;\n    \n    background-color: white;\n   \n    border-radius: 100px;\n    cursor: pointer;\n    \n    transition: 250ms all ease;\n\n   \n`","import { authContext } from \"context/context\"\nimport { useContext } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { acceptInvitationAndAddUser, removeFriendFromPending } from \"utils/firebase\"\n\nexport const AcceptInvitationForm = ({setIsPending, setIsFriend, username}) => {\n    const { userId } = useContext(authContext)\n    const { id } = useParams()\n\n     const onAcceptButtonClick = () => {\n        acceptInvitationAndAddUser(id, userId).then(() => {\n            removeFriendFromPending(id, userId)\n            setIsPending(false)\n            setIsFriend(true)\n        } )\n    }\n\n    const onDeclineButtonClick = () => {\n        removeFriendFromPending(id, userId)\n        setIsPending(false)\n        setIsFriend(false)\n    }\n    \n    return (\n        <Form>\n            <Message>{`${username} wants to be your friend`}</Message>\n            <div>\n                <AcceptButton onClick={onAcceptButtonClick} type=\"button\">Accept</AcceptButton>\n                <DeclineButton onClick={onDeclineButtonClick} type=\"button\">Decline</DeclineButton>\n            </div>\n        </Form>\n    )\n}\n\nconst Form = styled.div`\n    font-family: 'Nunito', sans-serif;\n    position: absolute;\n    top: 0;\n    left: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    color: black;\n    background-color: white;\n    border-radius: 10px;\n    padding: 10px;\n    gap: 10px\n`\n\nconst Message = styled.p`\n    text-align: center;\n    font-family: inherit\n`\n\nconst AcceptButton = styled.button`\n    background-color: white;\n    border: 1px solid green;\n    font-family: inherit;\n    color: green;\n    padding: 5px 10px;\n    border-radius: 10px;\n    margin-right: 10px\n\n`\nconst DeclineButton = styled.button`\n    background-color: white;\n    border: 1px solid red;\n    font-family: inherit;\n    color: red;\n    padding: 5px 10px;\n    border-radius: 10px;\n`","import { useContext, useEffect, useState } from \"react\"\nimport { Outlet, useNavigate, useParams } from \"react-router-dom\"\nimport { getFriendsInvitationsList, getFriendsList, getUserInfo } from \"utils/firebase\"\nimport { NavLink } from \"react-router-dom\"\nimport {authContext} from '../../context/context'\nimport styled from \"styled-components\"\nimport { ProfileCard } from \"components/ProfileCard/ProfileCard\"\nimport avatarPlaceholder from '../../assets/images/avatar-placeholder.png'\nimport { Loader } from \"components/Loader/Loader\"\nimport { ErrorComponent } from \"components/ErrorComponent/ErrorComponent\"\nimport { AcceptInvitationForm } from \"components/AcceptInvitationForm/AcceptInvitationForm\"\n\nconst User = () => {\n    const { userId } = useContext(authContext)\n    const { id } = useParams()\n    const [name, setName] = useState('')\n    const [photo, setPhoto] = useState('')\n    const [bookmarks, setBookmarks] = useState([])\n    const [isFriendInvited, setIsFriendInvited] = useState(false)\n    const [isFriend, setIsFriend] = useState(false)\n    const [isLoading, setIsLoading] = useState(false)\n    const [isError, setIsError] = useState(false)\n    const [isPending, setIsPending] = useState(false)\n\n\n        useEffect(() => {\n        getFriendsInvitationsList(userId).then((res) => {\n            if(res.val()) setIsPending(Object.keys(res.val()).some(friendId => friendId === id))\n        })\n    }, [id, userId])\n\n    const navigate = useNavigate()\n\n    if(userId === id) navigate('/profile/bookmarks')\n\n    useEffect(() => {\n        setIsLoading(true)\n        Promise.all([getUserInfo(id), getFriendsInvitationsList(id), getFriendsList(userId)]).then(res => {\n            const [userInfo, invitationsList, friendsList] = res\n            \n            const { username, favs, photoUrl } = userInfo.val()\n            \n            setName(username)\n\n            if (favs) {\n                setBookmarks(Object.values(favs))\n            }\n\n            if (photoUrl) {\n                setPhoto(photoUrl)\n            }\n            else {\n                setPhoto(avatarPlaceholder)\n            }\n            \n            if (invitationsList.val()) {\n                setIsFriendInvited(Object.values(invitationsList.val()).some(user => user === userId))\n            }\n\n            if (friendsList.val()) {\n                setIsFriend(Object.values(friendsList.val()).some(user => user === id))\n            }\n\n            setIsLoading(false)\n        }).catch(error => {\n            console.log(error)\n            setIsError(true)\n            setIsLoading(false)\n        })\n\n    }, [id, setIsFriendInvited, userId])\n\n    return(\n        <Page>\n            {isLoading ? <Loader className={'loader_profile'} color={'white'} /> : isError ? <ErrorComponent /> : \n                <>\n                    {isPending && <AcceptInvitationForm setIsPending={setIsPending} setIsFriend={setIsFriend} username={name} />}\n                <ProfileCard\n                    avatar={photo}\n                    username={name}\n                    isFriendInvited={isFriendInvited}\n                    isFriend={isFriend}\n                    setIsFriendInvited={setIsFriendInvited}\n                    setIsFriend={setIsFriend}\n                    isPending={isPending}\n                />\n                <OutletsSection>\n                    <Tabs>\n                        <Tab to='bookmarks'>Bookmarks</Tab>\n                    </Tabs>\n                    <Outlet context={[bookmarks]} />\n                </OutletsSection>\n            </>\n            }\n        </Page>\n    )\n}\n\nconst Page = styled.div`\n    min-height: calc(100vh - 61px);\n    width: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    position: relative;\n\n    color: white;\n    background-color: #00021A;\n\n    \n    @media screen and (min-width: 1200px) {\n        flex-direction: row;\n        align-items: flex-start;\n    }\n`\n\nconst OutletsSection = styled.div`\n    width: 100%;\n   \n    @media screen and (min-width: 768px) {\n        width: 50%;\n    }\n\n    @media screen and (min-width: 1200px) {\n        margin-left: auto;\n    }\n`\n\nconst Tabs = styled.div`\n    margin-bottom: 20px;\n    margin-left: auto;\n\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n\n    & :not(:last-child) {\n        margin-right: 100px;\n    }\n`\n\n\nconst Tab = styled(NavLink)`\n    color: #090E2F;\n    font-weight: 500;\n    padding: 10px 0;\n    background-color: transparent;\n    font-family: 'Nunito', sans-serif;\n    font-size: 20px;\n    cursor: pointer;\n    color: white;\n    border: none;\n    position: relative;\n    display: block;\n\n    &.active::after{\n        content: '';\n        display: block;\n        height: 3px;\n        width: 100%;\n        border-radius: 4px;\n\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        background-color: #FF6600;\n    }\n`\n\nexport default User "],"names":["ErrorComponent","Block","Message","Image","src","mario","alt","styled","Loader","className","color","Wrapper","render","backgroundColor","ballColors","props","css","ProfileCard","avatar","username","isAvatarLoading","setPhotoPath","setIsAvatarLoading","setUsername","isFriendInvited","isFriend","setIsFriendInvited","setIsFriend","isPending","userId","useContext","authContext","id","useParams","location","useLocation","useState","showChangeUsernameForm","setShowChangeUsernameForm","Info","AvatarWrapper","pathname","includes","UploadInput","accept","type","name","onChange","e","file","target","files","preventDefault","addAvatar","uploadAvatar","UploadButton","htmlFor","size","fill","stroke","FriendStatus","ChangeFriendStatusButton","onClick","removeFriend","addUserToFriensInvitationsList","Spinner","secondaryColor","width","height","Avatar","UsernameWrapper","Username","ChangeUsernameButton","console","log","ChangeUsernameFormWrapper","ChangeUsernameForm","onSubmit","elements","value","changeUsername","onUsernameFormSubmit","minLength","required","autoComplete","CloseChangeUsernameFormButton","AcceptInvitationForm","setIsPending","Form","AcceptButton","acceptInvitationAndAddUser","then","removeFriendFromPending","DeclineButton","Page","OutletsSection","Tabs","Tab","NavLink","setName","photo","setPhoto","bookmarks","setBookmarks","isLoading","setIsLoading","isError","setIsError","useEffect","getFriendsInvitationsList","res","val","Object","keys","some","friendId","navigate","useNavigate","Promise","all","getUserInfo","getFriendsList","userInfo","invitationsList","friendsList","favs","photoUrl","values","avatarPlaceholder","user","catch","error","P","to","context"],"sourceRoot":""}